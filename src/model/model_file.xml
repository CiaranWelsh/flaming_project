<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="FLAMEGPU_vcproj.xslt"?>
<gpu:xmodel xmlns:gpu="http://www.dcs.shef.ac.uk/~paul/XMMLGPU" xmlns="http://www.dcs.shef.ac.uk/~paul/XMML">
    <name>ABindBEquilib</name>
    <gpu:environment>
        <gpu:functionFiles>
            <file>functions.c</file>
        </gpu:functionFiles>
    </gpu:environment>
    <xagents>
        <gpu:xagent>
            <name>A</name>
            <description>Particle A</description>
            <memory>
                <gpu:variable>
                    <type>int</type>
                    <name>id</name>
                </gpu:variable>
                <gpu:variable>
                    <type>float</type>
                    <name>x</name>
                </gpu:variable>
                <gpu:variable>
                    <type>float</type>
                    <name>y</name>
                </gpu:variable>
                <gpu:variable>
                    <type>float</type>
                    <name>z</name>
                </gpu:variable>
                <gpu:variable>
                    <type>float</type>
                    <name>fx</name>
                </gpu:variable>
                <gpu:variable>
                    <type>float</type>
                    <name>fy</name>
                </gpu:variable>
                <gpu:variable>
                    <type>float</type>
                    <name>fz</name>
                </gpu:variable>
            </memory>
            <functions>
                <gpu:function>
                    <name>move_A</name>
                    <currentState>moving_A</currentState>
                    <nextState>moving_A</nextState>
                    <gpu:reallocate>false</gpu:reallocate>
                    <gpu:RNG>false</gpu:RNG>
                </gpu:function>
                <gpu:function>
                    <name>reverse_direction_A</name>
                    <currentState>moving_A</currentState>
                    <nextState>change_direction_A</nextState>
                    <gpu:reallocate>false</gpu:reallocate>
                    <gpu:RNG>false</gpu:RNG>
                </gpu:function>
                <gpu:function>
                    <name>resume_movement_A</name>
                    <currentState>change_direction_A</currentState>
                    <nextState>moving_A</nextState>
                    <gpu:reallocate>false</gpu:reallocate>
                    <gpu:RNG>false</gpu:RNG>
                </gpu:function>
            </functions>
            <states>
                <gpu:state>
                    <name>moving_A</name>
                </gpu:state>
                <gpu:state>
                    <name>change_direction_A</name>
                </gpu:state>
                <gpu:state>
                    <name>get_going_again_A</name>
                </gpu:state>
                <initialState>moving_A</initialState>
            </states>
            <gpu:type>continuous</gpu:type>
            <gpu:bufferSize>2048</gpu:bufferSize>
        </gpu:xagent>
        <gpu:xagent>
            <name>B</name>
            <description>Particle B</description>
            <memory>
                <gpu:variable>
                    <type>int</type>
                    <name>id</name>
                </gpu:variable>
                <gpu:variable>
                    <type>float</type>
                    <name>x</name>
                </gpu:variable>
                <gpu:variable>
                    <type>float</type>
                    <name>y</name>
                </gpu:variable>
                <gpu:variable>
                    <type>float</type>
                    <name>z</name>
                </gpu:variable>
                <gpu:variable>
                    <type>float</type>
                    <name>fx</name>
                </gpu:variable>
                <gpu:variable>
                    <type>float</type>
                    <name>fy</name>
                </gpu:variable>
                <gpu:variable>
                    <type>float</type>
                    <name>fz</name>
                </gpu:variable>
            </memory>
            <functions>
                <gpu:function>
                    <name>move_B</name>
                    <currentState>moving_B</currentState>
                    <nextState>moving_B</nextState>
                    <gpu:reallocate>false</gpu:reallocate>
                    <gpu:RNG>false</gpu:RNG>
                </gpu:function>
                <gpu:function>
                    <name>reverse_direction_B</name>
                    <currentState>moving_B</currentState>
                    <nextState>change_direction_B</nextState>
                    <gpu:reallocate>false</gpu:reallocate>
                    <gpu:RNG>false</gpu:RNG>
                </gpu:function>
                <gpu:function>
                    <name>resume_movement_B</name>
                    <currentState>change_direction_B</currentState>
                    <nextState>moving_B</nextState>
                    <gpu:reallocate>false</gpu:reallocate>
                    <gpu:RNG>false</gpu:RNG>
                </gpu:function>
            </functions>
            <states>
                <gpu:state>
                    <name>moving_B</name>
                </gpu:state>
                <gpu:state>
                    <name>change_direction_B</name>
                </gpu:state>
                <gpu:state>
                    <name>get_going_again_B</name>
                </gpu:state>
                <initialState>moving_B</initialState>
            </states>
            <gpu:type>continuous</gpu:type>
            <gpu:bufferSize>2048</gpu:bufferSize>
        </gpu:xagent>
    </xagents>
    <messages>
        <gpu:message>
            <name>location</name>
            <description>a message holding the location of an agent</description>
            <variables>
                <gpu:variable>
                    <type>int</type>
                    <name>id</name>
                </gpu:variable>
                <gpu:variable>
                    <type>float</type>
                    <name>x</name>
                </gpu:variable>
                <gpu:variable>
                    <type>float</type>
                    <name>y</name>
                </gpu:variable>
                <gpu:variable>
                    <type>float</type>
                    <name>z</name>
                </gpu:variable>
                <gpu:variable>
                    <type>float</type>
                    <name>fx</name>
                </gpu:variable>
                <gpu:variable>
                    <type>float</type>
                    <name>fy</name>
                </gpu:variable>
                <gpu:variable>
                    <type>float</type>
                    <name>fz</name>
                </gpu:variable>
            </variables>
            <gpu:partitioningNone/>
            <gpu:bufferSize>2048</gpu:bufferSize>
        </gpu:message>
    </messages>
    <layers>
        <layer>
            <gpu:layerFunction>
                <name>move_A</name>
            </gpu:layerFunction>
            <gpu:layerFunction>
                <name>move_B</name>
            </gpu:layerFunction>
        </layer>
        <layer>
            <gpu:layerFunction>
                <name>reverse_direction_A</name>
            </gpu:layerFunction>
            <gpu:layerFunction>
                <name>reverse_direction_B</name>
            </gpu:layerFunction>
        </layer>
        <layer>
            <gpu:layerFunction>
                <name>resume_movement_A</name>
            </gpu:layerFunction>
            <gpu:layerFunction>
                <name>resume_movement_B</name>
            </gpu:layerFunction>
        </layer>
    </layers>
</gpu:xmodel>